<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="styles.css">
    <title>Glory Knows No Limit</title>
    <script type="text/javascript" src="..\Back End\sessvars.js"></script>
    <script type="text/javascript" src="..\Back End\PlanetCreator.js"></script>
    <script type="text/javascript" src="..\Back End\CustomHexMapCode.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
    function startFunction() {
        document.getElementById('backLink').href = sessvars.systemLink.toString();
        var widthPixel = document.getElementById('hexmapContainer').offsetWidth;
        var heightPixel = document.getElementById('hexmapContainer').offsetHeight;
        document.getElementById('hexDrawingCanvas').setAttribute('width', widthPixel);
        document.getElementById('hexDrawingCanvas').setAttribute('height', heightPixel);
        document.getElementById('diagBox').innerHTML = sessvars.systemLink.toString() + "<br>" + sessvars.systemID.toString() + "<br>" + sessvars.planetID.toString();

        //input: amount of tiles on planet, side width (2.5 seems around the best to me)
        hexMapBuild(91, 2.5);
    }
    function rebuild() {
        var canvas = document.getElementById('hexDrawingCanvas');
        var ctx = canvas.getContext('2d');
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        hexMapBuild(91, 2.5);
    }
    </script>
</head>
<body onload="startFunction();" onresize="rebuild()">

    <header class="pageHeader">
        <div class="flex-container">
            <div class="flex-title">
                <h1 id="pageHead" class="pageTitle"></h1>
            </div>
        </div>
        <div id="diagBox" style="position: fixed; top: 0; left: 0; width: 10%; background-color: gray; color: white; font-size: 12 pt;">
            <p id="diagText">test</p>
        </div>
    </header>

    <nav>
    <ul class="navList">
        <li class="navItem">
            <h2><a class="navLink" href="">User</a></h2>
        </li>
        <li class="navItem">
            <h2><a class="navLink" href="">Faction</a></h2>
        </li>
        <li class="navItem">
            <h2><a class="navLink" href="HomePage.html">Sector Map</a></h2>
        </li>
        <li class="navItem">
            <h2><a class="navLink" href="">Logout</a></h2>
        </li>
        <li>
            <h2><a id="backLink" class="navLink" href="">Back to System</a></h2>
        </li>
    </ul>
    </nav>

    <content>
    <!--
    Current Plan:
        Planet Image taking up 75% of width floated to the right of the screen. this image will be overlayed with the hex grid (still need to figure out)
        Side Bar, floated left, taking up the other 25% containing a table of what buildings are on the planet
        Bottem Bar, containing Lore about the planet and planetary traits pulled from DB
    -->
    <div class="flexTileMap">
        <div id="infoBar">
            <h3>Testetstetsidusfhsdoihf'pijh</h3>
        </div>
        <div id="tileMap">
            <img src="..\Images\Background_Plate.png" alt="TileBackground" style="object-fit: contain; width: 100%; ">

            <div id="hexmapContainer"><!-- Overlayed tile hex map -->
                <canvas id="hexDrawingCanvas"></canvas>
            </div>
        </div>
        </div>
        <div id="loreBar" style="background-color: white; text-align: center;">
            <h3>Testetstetsidusfhsdoihf'pijh</h3>
    </div>
    </content>

    <footer>
    </footer>


</body>
</html>